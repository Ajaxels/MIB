
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Segmentation Panel</title><meta name="generator" content="MATLAB 9.0"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2016-06-29"><meta name="DC.source" content="ug_panel_segm.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>Segmentation Panel</h1><!--introduction--><p>The segmentation panel is the main panel used for segmentation. It allows creating models, modifying materials and selecting different segmentation tools.</p><p><img vspace="5" hspace="5" src="images\07_panel_segm.jpg" alt=""> </p><p><b>Back to</b> <a href="im_browser_product_page.html"><b>Index</b></a> <tt><b>--&gt;</b></tt> <a href="im_browser_user_guide.html"><b>User Guide</b></a> <tt><b>--&gt;</b></tt> <a href="ug_gui_panels.html"><b>Panels</b></a></p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">What are the Models</a></li><li><a href="#3">1. The Materials list box</a></li><li><a href="#4">2. The Select from list box</a></li><li><a href="#6">3. The Add to list box</a></li><li><a href="#7">4. The + button</a></li><li><a href="#8">5. The - button</a></li><li><a href="#9">6. The "D" checkbox, to select fast access tools</a></li><li><a href="#10">7. The Fix selection to material check box</a></li><li><a href="#11">8. Segmentation tools panel</a></li><li><a href="#12">9. The Create button</a></li><li><a href="#13">10. The Load button</a></li><li><a href="#15">11. The Masked area checkbox</a></li></ul></div><h2>What are the Models<a name="1"></a></h2><p><tt>Model</tt> is a matrix with dimensions equal to those of the opened <tt>Image</tt> dataset: <i>i.e.</i>  [ <tt>1:imageHeight, 1:imageWidth, 1:imageThickness</tt> ]. The <tt>Model</tt> consists of Materials, each element of the <tt>Model</tt> matrix can belong only to a single material or to an exterior. So it is not possible to have several materials above the same pixel of the <tt>Image</tt> overlapping each other. Each material in the <tt>Model</tt> matrix is encrypted with own index:</p><pre class="codeinput">Model = [1 1 0 0; 1 1 0 0; 0 0 2 2; 0 0 2 2];
Model
</pre><pre class="codeoutput">
Model =

     1     1     0     0
     1     1     0     0
     0     0     2     2
     0     0     2     2

</pre><p>In this example, the shown matrix represents a Model with 2 materials encrypted with <b>1</b> (the upper left corner) and <b>2</b> (the lower right corner) for the <tt>Image</tt> of 4x4 pixels.</p><h2>1. The Materials list box<a name="3"></a></h2><p>The Materials list box shows the names of all materials of the model. When the <tt>Show all</tt> checkbox is selected all existing materials would be displayed in <a href="ug_panel_im_view.html">the Image View panel</a> simultaneously. However, when this checkbox is unchecked the only highlighted material would be shown. Additional context menu is available after selection of material and pressing the right mouse button:</p><p><img vspace="5" hspace="5" src="images\07_panel_segm_materials.jpg" alt=""> </p><div><ul><li><b>Rename...</b>, renames the highlighted material</li><li><b>Set color...</b>, allows setting of a color for the highlighted material. <b><i>Note!</i></b> it is also possible to change the colors using the <a href="ug_gui_menu_file_preferences.html">Menu-&gt;File-&gt;Preferences dialig</a></li><li><b>Smooth...</b>, smoothes the selected material of the model with the Gaussian 2D or 3D filter</li><li><b>Get statistics...</b>, - starts the Statistics dialog to calculate quantification of objects in the selected material of the model Please refer to the <a href="ug_gui_menu_mask_statistics.html">Menu-&gt;Models-&gt;Model statistics...</a> section for details</li><li><b>Show isosurface (Matlab)...</b>, visualize the highlighted material, as an isosurface. This functionality is powered by Matlab and <a href="http://www.mathworks.com/matlabcentral/fileexchange/334-view3d-m">view3d</a> function written by  Torsten Vogel. Use the '*r*' shortcut to rotate and '*z*' to zoom. See more in the <i>Render model...</i> section <a href="ug_gui_menu_models.html">here</a>.</li><li><b>Show as volume (Fiji)...</b>, visualization using volume rendering of the selected material of the model with Fiji 3D viewer, please refer to the <a href="im_browser_system_requirements.html">Microscopy Image Browser System Requirements Fiji</a> for details</li><li><b>Sync all lists</b> - sets selection in the <tt>Material</tt>, <tt>Select from</tt> and <tt>Add to</tt> lists to the same value</li></ul></div><h2>2. The Select from list box<a name="4"></a></h2><p>Specifies material for selection. In general use it does not matter which material is selected in this list. However when the <tt>Fix selection to material</tt> (<b>7.</b>) is checked all selection actions are limited to selected material. It is possible to switch between Exterior (<tt>Ext</tt>) and any other material with the <b>E</b> shortcut <a href="ug_gui_shortcuts.html">shortcut</a>.</p><p>Selection of material in the <tt>Select from</tt> list and pressing the right mouse button calls a context menu with additional possibilities:</p><p><img vspace="5" hspace="5" src="images\07_panel_segm_selectfrom.jpg" alt=""> </p><div><ul><li><b>Set this material as Mask</b>, generates a <tt>Mask</tt> layer from the selected material. <b><i>Note!</i></b> The existing <tt>Mask</tt> will be erased without confirmation (Press Ctrl+Z for Undo)</li><li><b>NEW Selection (CURRENT)</b>, generates a new <tt>Selection</tt> layer from the selected material for the <b>currently</b> shown slice</li><li><b>ADD to Selection (CURRENT)</b>, adds the selected material to the <tt>Selection</tt> layer for the <b>currently</b> shown slice</li><li><b>Remove Material from Selection (CURRENT)</b>, removes the selected material from the <tt>Selection</tt> layer for the <b>currently</b> shown slice</li><li><b>NEW Selection (ALL)</b>, generates a new <tt>Selection</tt> layer from the selected material for the <b>whole</b> dataset</li><li><b>ADD to Selection (ALL)</b>, adds the selected material to the <tt>Selection</tt> layer for the <b>whole</b> dataset</li><li><b>Remove Material from Selection (ALL)</b>, removes the selected material from the <tt>Selection</tt> layer for the <b>whole</b> dataset</li><li><b>Sync all lists</b> - sets selection in the <tt>Material</tt>, <tt>Select from</tt> and <tt>Add to</tt> lists to the same value</li></ul></div><p>There are <tt>Ctrl+A</tt> and <tt>Alt+A</tt> <a href="ug_gui_shortcuts.html">shortcuts</a> that can be used. Here is a table with possible results (the <tt>Show Model</tt> and <tt>Show Mask</tt> checkboxes are located in <a href="ug_panel_view_settings.html">the <tt>View Settings</tt> panel</a>):</p><p>
<table style="width: 550px; text-align: left;" cellspacing=2px cellpadding=2px >
<tr style="font-weight: bold;">
<td>Select from</td><td>Show Model checkbox</td><td>Show Mask checkbox</td><td>Result of selection</td>
</tr>
<tr style="background: #F0F8FF;"><td>All</td><td>OFF or ON</td><td>OFF</td><td>Nothing</td></tr>
<tr style="background: #F0F8FF;"><td>Ext or any material</td><td>OFF or ON</td><td>OFF</td><td>Background or selected material</td></tr>
<tr style="background: #F0F8FF;"><td>Any entry</td><td>OFF</td><td>ON</td><td>Mask</td></tr>
<tr style="background: #FFEBCD"><td>Any entry</td><td>ON</td><td>ON</td><td>Mask</td></tr>
</table>
</p><p>The <b>Ctrl+A</b> shortcut will select objects only on the shown slice, while <b>Alt+A</b> will do that for the whole dataset. The selection is sensitive to the <tt>Fix selection to material</tt> (<b>7.</b>) and the <tt>Masked area</tt> (<b>11.</b>) switches.</p><h2>3. The Add to list box<a name="6"></a></h2><p>Specifies to which material the selection should be assigned.</p><p>For example, material <b>1</b> can be selected on all slices (<tt>Segmentation Panel-&gt;Select from-&gt;1, press the Alt+A shortcut</tt>) and then copied to the second material <b>2</b> (<tt>Segmentation Panel-&gt;Add to-&gt;2, Shift+A</tt>). The Shift+A shortcut moves selected areas from the <tt>Selection</tt> layer to the <tt>Model</tt> layer, Material 2 for all slices of the dataset. Please refer to the <a href="ug_panel_selection.html"><tt>Selection</tt></a> panel reference for more information.</p><p>Selection of matirial in the <tt>Add to</tt> list and pressing the right mouse button calls a context menu with additional possibilities:</p><p><img vspace="5" hspace="5" src="images\07_panel_segm_addto.jpg" alt=""> </p><div><ul><li><b>Mask statistics</b> - starts the Statistics dialog to calculate quantification of objects in the Mask layer</li><li><b>Sync all lists</b> - sets selection in the <tt>Material</tt>, <tt>Select from</tt> and <tt>Add to</tt> lists to the same entry</li></ul></div><h2>4. The + button<a name="7"></a></h2><p>Press to add a new material to the model.</p><h2>5. The - button<a name="8"></a></h2><p>Press to delete selected in the <tt>Select from</tt> list box (<b>2.</b>) material from the model.</p><h2>6. The "D" checkbox, to select fast access tools<a name="9"></a></h2><p>Allows to defining of the favorite selection tools that are called using the 'D' key shortcut. The chosen fast access tools are highlighted with orange background in the <tt>Selection type</tt> popup menu.</p><h2>7. The Fix selection to material check box<a name="10"></a></h2><p>This check box ensures that all segmentation tools (<b>8.</b>) will be performed only for material selected in the <tt>Select from</tt> list (<b>2.</b>).</p><h2>8. Segmentation tools panel<a name="11"></a></h2><p>This panel hosts different tools for the segmentation. <a href="ug_panel_segm_tools.html">See more here</a>.</p><h2>9. The Create button<a name="12"></a></h2><p>Starts a new model. The existing <tt>Model</tt> layer will be removed.</p><h2>10. The Load button<a name="13"></a></h2><p>Loads model from the disk. The following formats are accepted:</p><div><ul><li>Matlab (*.MAT), <i>default recommended format</i></li><li>Amira Mesh binary (*.AM); for models saved in <a href="http://www.vsg3d.com/amira/overview">Amira</a> format</li><li>NRRD format (*.NRRD); for models saved in <a href="http://www.slicer.org/">3D slicer</a> format</li><li>TIF format (*.TIF);</li></ul></div><p>Alternatively it is possible to use the <a href="ug_gui_menu_models.html"><tt>Menu-&gt;Models-&gt;Load model</tt></a> .</p><h2>11. The Masked area checkbox<a name="15"></a></h2><p>This check box ensures that all segmentation tools (<b>8.</b>) will be limited only within the masked areas of the image.</p><p><b>Back to</b> <a href="im_browser_product_page.html"><b>Index</b></a> <tt><b>--&gt;</b></tt> <a href="im_browser_user_guide.html"><b>User Guide</b></a> <tt><b>--&gt;</b></tt> <a href="ug_gui_panels.html"><b>Panels</b></a></p><p class="footer"><br><a href="http://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2016a</a><br></p></div><!--
##### SOURCE BEGIN #####
%% Segmentation Panel
% The segmentation panel is the main panel used for segmentation. It allows creating models, modifying materials and selecting different segmentation tools. 
%
% <<images\07_panel_segm.jpg>>
%
%
% *Back to* <im_browser_product_page.html *Index*> |*REPLACE_WITH_DASH_DASH>*| <im_browser_user_guide.html *User Guide*> |*REPLACE_WITH_DASH_DASH>*| <ug_gui_panels.html *Panels*>
%% What are the Models
% |Model| is a matrix with dimensions equal to those of the opened |Image| dataset: _i.e._  [ |1:imageHeight,
% 1:imageWidth, 1:imageThickness| ]. The |Model| consists of Materials, each element of the |Model| matrix can belong only to
% a single material or to an exterior. So it is not possible to have several materials above the same pixel of the |Image| overlapping each other.
% Each material in the |Model| matrix is encrypted with own index:
Model = [1 1 0 0; 1 1 0 0; 0 0 2 2; 0 0 2 2];
Model
%%
% In this example, the shown matrix represents a Model with 2 materials
% encrypted with *1* (the upper left corner) and *2* (the lower right corner) for the |Image| of 4x4 pixels.
%% 1. The Materials list box
% The Materials list box shows the names of all materials of the model.
% When the |Show all| checkbox is selected all existing materials would be 
% displayed in <ug_panel_im_view.html the Image View panel> simultaneously. However, when this
% checkbox is unchecked the only highlighted material would be shown.
% Additional context menu is available after selection of material and 
% pressing the right mouse button:
% 
% <<images\07_panel_segm_materials.jpg>>
% 
%
% * *Rename...*, renames the highlighted material
% * *Set color...*, allows setting of a color for the highlighted material. *_Note!_* it is also possible to change the colors
% using the <ug_gui_menu_file_preferences.html Menu->File->Preferences dialig>
% * *Smooth...*, smoothes the selected material of the model with the Gaussian 2D or 3D
% filter
% * *Get statistics...*, - starts the Statistics dialog to calculate quantification of objects in the selected
% material of the model
% Please refer to the <ug_gui_menu_mask_statistics.html Menu->Models->Model statistics...> section for details 
% * *Show isosurface (Matlab)...*, visualize the highlighted material, as an isosurface. This functionality is powered by 
% Matlab and <http://www.mathworks.com/matlabcentral/fileexchange/334-view3d-m view3d> function written by  Torsten Vogel. Use the '*r*' shortcut to rotate and '*z*'
% to zoom. See more in the _Render model..._ section <ug_gui_menu_models.html here>.
% * *Show as volume (Fiji)...*, visualization using volume rendering of the selected material of the model with Fiji 3D viewer,
% please refer to the <im_browser_system_requirements.html Microscopy Image Browser System Requirements Fiji> for details
% * *Sync all lists* - sets selection in the |Material|, |Select from| and |Add to| lists to the same value
%% 2. The Select from list box
% Specifies material for selection. In general use it does not matter which material is selected in this list. However when 
% the |Fix selection to material| (*7.*) is checked all selection actions are limited to selected material. It is possible to
% switch between Exterior (|Ext|) and any other material with the *E* shortcut <ug_gui_shortcuts.html shortcut>.
%
% Selection of material in the |Select from| list and pressing the right mouse button calls a context menu with additional
% possibilities:
%
% 
% <<images\07_panel_segm_selectfrom.jpg>>
% 
% 
% * *Set this material as Mask*, generates a |Mask| layer from the selected material. *_Note!_* The existing |Mask| will be
% erased without confirmation (Press Ctrl+Z for Undo)
% * *NEW Selection (CURRENT)*, generates a new |Selection| layer from the selected material for the *currently* shown slice
% * *ADD to Selection (CURRENT)*, adds the selected material to the |Selection| layer for the *currently* shown slice
% * *Remove Material from Selection (CURRENT)*, removes the selected material from the |Selection| layer for the *currently* shown slice
% * *NEW Selection (ALL)*, generates a new |Selection| layer from the selected material for the *whole* dataset
% * *ADD to Selection (ALL)*, adds the selected material to the |Selection| layer for the *whole* dataset
% * *Remove Material from Selection (ALL)*, removes the selected material from the |Selection| layer for the *whole* dataset
% * *Sync all lists* - sets selection in the |Material|, |Select from| and |Add to| lists to the same value
% 
%
% There are |Ctrl+A| and |Alt+A| <ug_gui_shortcuts.html shortcuts> that can be used. Here is a table with possible results (the |Show Model| and |Show Mask|
% checkboxes are located in <ug_panel_view_settings.html the |View Settings| panel>):
%%
%
% <html>
% <table style="width: 550px; text-align: left;" cellspacing=2px cellpadding=2px >
% <tr style="font-weight: bold;">
% <td>Select from</td><td>Show Model checkbox</td><td>Show Mask checkbox</td><td>Result of selection</td>
% </tr>
% <tr style="background: #F0F8FF;"><td>All</td><td>OFF or ON</td><td>OFF</td><td>Nothing</td></tr>
% <tr style="background: #F0F8FF;"><td>Ext or any material</td><td>OFF or ON</td><td>OFF</td><td>Background or selected material</td></tr>
% <tr style="background: #F0F8FF;"><td>Any entry</td><td>OFF</td><td>ON</td><td>Mask</td></tr>
% <tr style="background: #FFEBCD"><td>Any entry</td><td>ON</td><td>ON</td><td>Mask</td></tr>
% </table>
% </html>
%
% The *Ctrl+A* shortcut will select objects only on the shown slice, while *Alt+A* will do that for
% the whole dataset. The selection is sensitive to the |Fix selection to material| (*7.*) 
% and the |Masked area| (*11.*) switches.
%% 3. The Add to list box
% Specifies to which material the selection should be assigned.
%
% For example, material *1* can be selected on all slices (|Segmentation Panel->Select from->1, press the Alt+A shortcut|) and then
% copied to the second material *2* (|Segmentation Panel->Add to->2,
% Shift+A|). The Shift+A shortcut moves selected areas from the |Selection|
% layer to the |Model| layer, Material 2 for all slices of the dataset. Please refer to the <ug_panel_selection.html |Selection|> panel reference for more information.
%
% Selection of matirial in the |Add to| list and pressing the right mouse button calls a context menu with additional
% possibilities:
%
% 
% <<images\07_panel_segm_addto.jpg>>
%
%
% * *Mask statistics* - starts the Statistics dialog to calculate quantification of objects in the Mask layer
% * *Sync all lists* - sets selection in the |Material|, |Select from| and
% |Add to| lists to the same entry
%
%% 4. The + button
% Press to add a new material to the model.
%
%% 5. The - button
% Press to delete selected in the |Select from| list box (*2.*) material from the model.
%
%% 6. The "D" checkbox, to select fast access tools 
% Allows to defining of the favorite selection tools that are called using the
% 'D' key shortcut. The chosen fast access tools are highlighted
% with orange background in the |Selection type| popup menu.
%% 7. The Fix selection to material check box
% This check box ensures that all segmentation tools (*8.*) will be performed only
% for material selected in the |Select from| list (*2.*).
%% 8. Segmentation tools panel
% This panel hosts different tools for the segmentation.
% <ug_panel_segm_tools.html See more here>.
%
%% 9. The Create button
% Starts a new model. The existing |Model| layer will be removed.
%
%% 10. The Load button
% Loads model from the disk. The following formats are accepted:
%%
% 
% * Matlab (*.MAT), _default recommended format_
% * Amira Mesh binary (*.AM); for models saved in <http://www.vsg3d.com/amira/overview Amira> format
% * NRRD format (*.NRRD); for models saved in <http://www.slicer.org/ 3D slicer> format
% * TIF format (*.TIF); 
% 
% Alternatively it is possible to use the <ug_gui_menu_models.html |Menu->Models->Load model|> .
%% 11. The Masked area checkbox
% This check box ensures that all segmentation tools (*8.*) will be limited only
% within the masked areas of the image.
%
%
% *Back to* <im_browser_product_page.html *Index*> |*REPLACE_WITH_DASH_DASH>*| <im_browser_user_guide.html *User Guide*> |*REPLACE_WITH_DASH_DASH>*| <ug_gui_panels.html *Panels*>
##### SOURCE END #####
--></body></html>